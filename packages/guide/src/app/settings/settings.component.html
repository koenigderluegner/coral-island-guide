<app-card class="text-black container block mx-auto my-10">
    <form (submit)="saveSettings()" [formGroup]="settingsForm">
        <div class="grid md:grid-cols-3 pb-12 gap-y-10 gap-x-8 border-b border-accent/50 mb-8">
            <div>
                <h3 class="leading-7 font-bold text-lg">Language</h3>
                <p>Change the language of Coral Guide</p>
            </div>
            <div class="bg-amber-50/70 md:col-span-2 px-4 py-6 sm:p-8 sm:rounded-lg">

                <div class="flex flex-col gap-1 items-start">
                    <label class="font-bold leading-6" for="language">Language</label>
                    <mat-form-field class="btn btn-secondary">
                        <mat-select formControlName="language" id="language">
                            @for (language of availableLanguages; track language) {
  <mat-option
                                        [value]="language">{{availableLanguageDisplayName[language]}}</mat-option>
}
                        </mat-select>
                    </mat-form-field>
                </div>

                <p class="flex gap-2 text-black font-bold leading-6 items-center mt-2">
                    <app-ui-icon [uiIcon]="uiIcon.WARNING" class="!w-6 shrink-0"/>
                    Work in progress: Currently only in-game data has translations, the app itself will stay in english.
                    Translations are pulled from game files and will be shown as is.
                </p>


            </div>
        </div>
        <div class="grid md:grid-cols-3 pb-12 gap-y-10 gap-x-8 border-b border-accent/50 mb-8">
            <div>
                <h3 class="leading-7 font-bold text-lg">Beta data</h3>
                <p>Options for latest beta build. Current beta code: {{BETA_CODE ?? 'no ongoing beta'}} </p>
            </div>
            <div class="bg-amber-50/70 md:col-span-2 px-4 py-6 sm:p-8 sm:rounded-lg">


                <div class="flex gap-x-3">
                    <div class="flex h-6 items-center">
                        <input formControlName="useBeta" id="useBeta" name="useBeta" type="checkbox">
                    </div>
                    <div [class.opacity-50]="!BETA_CODE">
                        <label class="font-bold leading-6" for="useBeta">Use beta data</label>
                        <p class="leading-6">Switches app data to beta data. Change requires reload.</p>
                    </div>
                </div>
                @if (!BETA_CODE) {
<p class="flex gap-2 text-black font-bold leading-6 items-center">
                    <app-ui-icon [uiIcon]="uiIcon.WARNING" class="!w-6 shrink-0"/>
                    Currently there's no beta.
                </p>
}


            </div>
        </div>
        <div class="grid md:grid-cols-3 pb-12 gap-y-10 gap-x-8 border-b border-accent/50 mb-8">
            <div>
                <h3 class="leading-7 font-bold text-lg">To-Dos</h3>
                <p>Options for to-dos. Reset your to-dos data if they behave in unwanted behavior and set
                    defaults for viewing. </p>
            </div>
            <div class="bg-amber-50/70 md:col-span-2 px-4 py-6 sm:p-8 sm:rounded-lg flex flex-col gap-6">


                <div class="flex gap-x-3">
                    <div class="flex h-6 items-center">
                        <input formControlName="resetLiveToDo" id="resetLiveToDo" name="resetLiveToDo"
                               type="checkbox">
                    </div>
                    <div>
                        <label class="font-bold leading-6" for="resetLiveToDo">Reset live to-dos</label>
                        <p class="leading-6">Reset all to-dos which were created while using live data.</p>
                    </div>
                </div>


                <div class="flex gap-x-3">
                    <div class="flex h-6 items-center">
                        <input formControlName="resetBetaToDo" id="resetBetaToDo" name="resetBetaToDo"
                               type="checkbox">
                    </div>
                    <div>
                        <label class="font-bold leading-6" for="resetBetaToDo">Reset beta to-dos</label>
                        <p class="leading-6">Reset all to-dos which were created while using beta data.</p>
                    </div>
                </div>


            </div>
        </div>
        <div class="grid md:grid-cols-3 pb-12 gap-y-10 gap-x-8 border-b border-accent/50 mb-8">
            <div>
                <h3 class="leading-7 font-bold text-lg">Checklists</h3>
                <p>Options for checklists. Reset your checklists data. </p>
            </div>
            <div class="bg-amber-50/70 md:col-span-2 px-4 py-6 sm:p-8 sm:rounded-lg flex flex-col gap-6">


                <div class="flex gap-x-3">
                    <div class="flex h-6 items-center">
                        <input formControlName="resetLiveChecklists" id="resetLiveChecklists" name="resetLiveChecklists"
                               type="checkbox">
                    </div>
                    <div>
                        <label class="font-bold leading-6" for="resetLiveChecklists">Reset live checklists</label>
                        <p class="leading-6">Reset all checklists which were created while using live data.</p>
                    </div>
                </div>


                <div class="flex gap-x-3">
                    <div class="flex h-6 items-center">
                        <input formControlName="resetBetaChecklists" id="resetBetaChecklists" name="resetBetaChecklists"
                               type="checkbox">
                    </div>
                    <div>
                        <label class="font-bold leading-6" for="resetBetaToDo">Reset beta checklists</label>
                        <p class="leading-6">Reset all checklists which were created while using beta data.</p>
                    </div>
                </div>


            </div>
        </div>
        <div class="mt-6 sm:mt-8 flex justify-between items-center">
            @if (reloadRequired) {
<p class="font-bold">Changes that require a reload were made. Saving will reload
                automatically.</p>
}
            <button class="btn-amber ml-auto" type="submit">Save</button>
        </div>
    </form>
</app-card>
