<div class="container mx-auto pb-6 database-grid px-2">
    <app-card *ngIf="!shouldHideImportantNote" class="my-3">
        <div class="prose lg:prose-xl">
            <h2>Important note</h2>
            <p>The item list loads a lot of stuff, this may take a while.
                The list below shows everything, that got not filtered beforehand.
                Some of those items will never be obtainable as they only provide a technical purpose.
                The information shown per item are as complete as the rest of this website.
                When new features get added, the details in here will expand as well.</p>
            <button (click)="hideImportantNote()" class="btn btn-secondary">Got it!</button>
        </div>
    </app-card>
    <ng-container *ngIf="allPrefetched">
        <mat-form-field class="btn my-3">
            <input [formControl]="searchTermControl" class="placeholder:text-white" matInput placeholder="Search term"/>
        </mat-form-field>

        <div class="grid gap-4 icon-grid" id="grid">
            <ng-container *ngIf="(filteredItems$ | async)">

                <app-item-icon (click)="showDetails(itemProcess, index)"
                               *ngFor="let itemProcess of filteredItems; let index = index"
                               [itemName]="itemProcess.iconName"
                               class="icon-grid-item"/>

                <ng-container *ngIf="initialItemLoad()"/>

            </ng-container>
        </div>
    </ng-container>
    <ng-container *ngIf="!allPrefetched">
        <mat-spinner class="text-white mx-auto my-5"></mat-spinner>
    </ng-container>
</div>
