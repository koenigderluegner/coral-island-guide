@if (databaseItem$) {
    @if (databaseItem$ | async; as databaseItem) {
        <app-card>

            <header class="flex items-center flex-wrap mb-5">
                <app-item-icon [itemName]="databaseItem.item.iconName" class="mr-3 w-14"/>
                <div class="flex flex-col gap-0.5">
                    <h2 class="!my-0 font-semibold text-xl text-black">{{ databaseItem.item.displayName }}</h2>
                    <span>{{ databaseItem.item.id }}</span>
                </div>
                <div class="card-actions ml-4">
                    <app-to-do-toggle [item]="databaseItem.item" context="database"/>
                </div>
                <div class="h-0 w-full md:hidden"></div>
                <app-quality-grid [showOnlyBase]="!databaseItem.item.qualities.bronze"
                                  [item]="databaseItem.item"
                                  class="md:ml-auto mt-4 md:mt-0 quality-grid inline-block w-fit"
                                  includePrices
                />
            </header>

            <p class="text-lg">{{ databaseItem.item.description }}</p>

            <div class="empty-details text-black my-5 text-lg">There's currently no data for this item. :(</div>

            <app-database-shop-item-process [databaseItem]="databaseItem"/>
            <app-database-shop-data [databaseItem]="databaseItem"/>
            <app-database-offerings [databaseItem]="databaseItem"/>
            <app-database-crops [databaseItem]="databaseItem"/>

            <app-database-fishing [databaseItem]="databaseItem"/>
            <app-database-insects [databaseItem]="databaseItem"/>
            <app-database-sea-critters [databaseItem]="databaseItem"/>

            <app-database-artisan [databaseItem]="databaseItem"/>
            <app-database-cooking [databaseItem]="databaseItem"/>
            <app-database-mixing [databaseItem]="databaseItem"/>
            <app-database-crafting [databaseItem]="databaseItem"/>

            <app-database-festival-shop-data [databaseItem]="databaseItem"/>
            <app-database-gifts [databaseItem]="databaseItem"/>

            <app-database-item-upgrade [databaseItem]="databaseItem"/>
            <app-database-bestiary [databaseItem]="databaseItem"/>
        </app-card>
    } @else {
        <app-card>
            <mat-spinner class="mx-auto"></mat-spinner>
        </app-card>
    }
}
