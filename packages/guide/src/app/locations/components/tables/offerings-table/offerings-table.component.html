<app-responsive-table>
    @if (matDataSource) {
<table [dataSource]="matDataSource" mat-table matSort>
        <ng-container matColumnDef="icon" sticky>
            <td *matCellDef="let element" class="!pl-2 !pr-0 w-10 text-center icon-col " mat-cell>
                <img alt="{{element.offerings[0].title}} offering icon" height="32"
                     src="assets/ui/images/offering/{{element.offerings[0].imageName}}.png"
                     width="32"/>
            </td>
        </ng-container>

        <ng-container matColumnDef="displayName">
            <th *matHeaderCellDef [attr.colspan]="2" class="backdrop-blur-xl" mat-header-cell mat-sort-header>Offering
            </th>
            <td *matCellDef="let element" class="text-col whitespace-nowrap" mat-cell>
                {{element.offerings[0].title}}
            </td>
        </ng-container>


        <ng-container matColumnDef="altar">
            <th *matHeaderCellDef class="backdrop-blur-xl" mat-header-cell mat-sort-header>Altar</th>
            <td *matCellDef="let element" class="text-col whitespace-nowrap" mat-cell>
                {{element.offeringGroupTitle}}
            </td>
        </ng-container>


        <ng-container matColumnDef="numOfItemRequired">
            <th *matHeaderCellDef class="whitespace-nowrap" mat-header-cell> Number of required Items</th>
            <td *matCellDef="let element" class="text-col !text-right w-[1%]"
                mat-cell>{{element.offerings[0].numOfItemRequired === -1 ? 'All' : element.offerings[0].numOfItemRequired}}
            </td>
        </ng-container>


        <ng-container matColumnDef="requiredItems">
            <th *matHeaderCellDef mat-header-cell> Required Items</th>
            <td *matCellDef="let element" class="list-col" mat-cell>
                <app-table-item-list [itemList]="element.offerings[0].requiredItems" class="mb-3"/>
            </td>
        </ng-container>

        <ng-container matColumnDef="rewards">
            <th *matHeaderCellDef mat-header-cell> Rewards</th>
            <td *matCellDef="let element" class="list-col w-[1%]" mat-cell>
                <app-table-item-list [itemList]="element.offerings[0].rewards.items" class="mb-3"/>
                @if (element.offerings[0].rewards.recipes.length) {

                    <span class="text-black font-semibold mt-2"> Recipes</span>
                    <app-table-item-list [itemList]="element.offerings[0].rewards.recipes" class="mb-3"/>
                
}
            </td>
        </ng-container>


        <tr *matHeaderRowDef="displayHeaderColumns; sticky: true" mat-header-row></tr>
        <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
    </table>
}
</app-responsive-table>
