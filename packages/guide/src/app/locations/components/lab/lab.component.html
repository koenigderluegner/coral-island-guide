<app-list-detail-container [(openDrawer)]="openDrawer">
    <ng-container listDetail>
        <app-shop-item-process-data-details *ngIf="selectedProcessEntity" [itemProcessData]="selectedProcessEntity"/>
        <app-shop-item-data-details *ngIf="selectedEntity" [shopItemData]="selectedEntity"/>
        <app-item-upgrade-details *ngIf="selectedItemUpgrade" [itemUpgradeData]="selectedItemUpgrade"/>
    </ng-container>

    <div class="px-2 xl:px-[50px] w-full">

        <app-card class="mb-6">
            <h1 class="mb-4 font-semibold text-3xl text-black flex items-center gap-x-4 ">
                <app-ui-icon [uiIcon]="uiIcon.LAB"/>
                Lab
            </h1>
            <app-opening-hours *ngIf="(openingHours$ |async) as openingHours" [openingHours]="openingHours"/>
        </app-card>

        <h2 class="mb-3 font-semibold text-2xl text-white">Stock list</h2>
        <ng-container *ngIf="(shopItemData$ |async) as shopItemData">
            <app-data-filter [(showTable)]="showTable"/>
            <div *ngIf="!showTable" class="grid gap-4 icon-grid">

                <app-item-icon (click)="showDetails(shopItem)" *ngFor="let shopItem of shopItemData"
                               [class.selected-icon]="selectedEntity?.item?.id === shopItem.item.id"
                               [itemName]="shopItem.item.iconName"
                               class="icon-grid-item">
                </app-item-icon>
            </div>
            <app-shop-item-data-table *ngIf="showTable" [dataSource]="shopItemData"/>

        </ng-container>


        <h2 class="mt-6 mb-3 font-semibold text-2xl text-white">Item processing</h2>
        <ng-container *ngIf="(itemProcessing$ |async) as shopItemData">

            <app-data-filter [(showTable)]="showProcessingTable"/>
            <div *ngIf="!showProcessingTable" class="grid gap-4 icon-grid">

                <app-item-icon (click)="showProcessDetails(shopItem)" *ngFor="let shopItem of shopItemData"
                               [class.selected-icon]="selectedProcessEntity?.input?.id === shopItem.input.id"
                               [itemName]="shopItem.input.iconName"
                               class="icon-grid-item">
                </app-item-icon>
            </div>
            <app-shop-item-process-table *ngIf="showProcessingTable" [dataSource]="shopItemData"/>

        </ng-container>


        <h2 class="mt-6 mb-3 font-semibold text-2xl text-white">Tool upgrades</h2>
        <ng-container *ngIf="(itemUpgrade$ |async) as shopItemData">

            <app-data-filter [(showTable)]="showPItemUpgradeTable"/>
            <div *ngIf="!showPItemUpgradeTable" class="grid gap-4 icon-grid">

                <app-item-icon (click)="showItemUpgradeDetails(shopItem)" *ngFor="let shopItem of shopItemData"
                               [class.selected-icon]="selectedItemUpgrade?.item?.id === shopItem.item.id"
                               [itemName]="shopItem.item.iconName"
                               [quality]="shopItem.level"
                               class="icon-grid-item">
                </app-item-icon>
            </div>
            <app-item-upgrade-table *ngIf="showPItemUpgradeTable" [dataSource]="shopItemData"/>

        </ng-container>

    </div>
</app-list-detail-container>
