<app-responsive-table>
    <table *ngIf="matDataSource" [dataSource]="matDataSource" mat-table matSort>
        <ng-container matColumnDef="icon" sticky>
            <td *matCellDef="let element" class="!pl-2 !pr-0  w-10 text-center icon-col " mat-cell>
                <app-item-icon [itemName]="element.dropData[0]?.item?.iconName"></app-item-icon>
            </td>
        </ng-container>

        <ng-container matColumnDef="displayName">
            <th *matHeaderCellDef [attr.colspan]="2" class="backdrop-blur-xl" mat-header-cell mat-sort-header> Output
            </th>
            <td *matCellDef="let element" class="text-col whitespace-nowrap"
                mat-cell>{{element.dropData[0]?.item.displayName}}
            </td>
        </ng-container>


        <ng-container matColumnDef="size">
            <th *matHeaderCellDef mat-header-cell> Size</th>
            <td *matCellDef="let element" class="text-col whitespace-nowrap" mat-cell>
                {{element.size.width}}x{{element.size.length}}
            </td>
        </ng-container>

        <ng-container matColumnDef="season">
            <th *matHeaderCellDef mat-header-cell> Seasons</th>
            <td *matCellDef="let element" class="text-col whitespace-nowrap" mat-cell>
                {{(element.growableSeason.join(', '))}}
            </td>
        </ng-container>


        <ng-container matColumnDef="regrow">
            <th *matHeaderCellDef mat-header-cell> Regrow</th>
            <td *matCellDef="let element" class="text-col text-right whitespace-nowrap" mat-cell>
                <ng-container *ngIf="element.isRegrowable">{{[1, element.regrowableLength] | max}} days</ng-container>
            </td>
        </ng-container>


        <ng-container matColumnDef="growTime">
            <th *matHeaderCellDef mat-header-cell> Grow time</th>
            <td *matCellDef="let element" class="text-col text-right whitespace-nowrap" mat-cell>
                {{element.growTime}} days
            </td>
        </ng-container>


        <ng-container matColumnDef="seed">
            <th *matHeaderCellDef class="whitespace-nowrap" mat-header-cell> Seed</th>
            <td *matCellDef="let element" class="text-col whitespace-nowrap" mat-cell>
                <div class="flex gap-x-3 items-center">
                    <app-item-icon [itemName]="element.item?.iconName" class="!w-7"/>
                    {{element.readableName}}
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="seedPrice">
            <th *matHeaderCellDef class="whitespace-nowrap" mat-header-cell> Seed buy price</th>
            <td *matCellDef="let element" class="text-col !text-right w-[1%]" mat-cell>
                <app-money [amount]="element.item.price"/>
            </td>
        </ng-container>


        <ng-container matColumnDef="price">
            <th *matHeaderCellDef class="whitespace-nowrap" mat-header-cell> Sell price</th>
            <td *matCellDef="let element" class="text-col !text-right w-[1%]" mat-cell>
                <app-money [amount]="element.dropData[0]?.item?.sellPrice"/>
            </td>
        </ng-container>


        <tr *matHeaderRowDef="displayHeaderColumns; sticky: true" mat-header-row></tr>
        <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
    </table>
</app-responsive-table>
