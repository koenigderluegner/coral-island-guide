<app-list-detail-container>
    @if (selectedEntity) {
        <app-bestiary-details [enemy]="selectedEntity" listDetail/>
    }

    <app-data-filter [(showTable)]="showTable"/>
    @if ((bestiary.value()); as syncedData) {

        @if (!showTable) {

            <div class="icon-grid">
                @for (entry of syncedData; track entry) {
                    <app-item-icon (click)="showDetails(entry)"
                                   [class.selected-icon]="selectedEntity?.key === entry.key"
                                   [itemName]="entry.iconName"
                                   class="icon-grid-item"
                    />
                }
            </div>

        }
        @if (showTable) {

            <app-bestiary-table [dataSource]="syncedData"/>

        }

    } @else if (bestiary.isLoading()) {
        <mat-spinner class="mx-auto my-8 text-white"/>

    }

</app-list-detail-container>
