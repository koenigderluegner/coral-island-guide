<app-list-detail-container [(openDrawer)]="openDrawer" [removePlaceholder]="showTable">
    @if (selectedEntity) {
        <app-item-card-switch [item]="selectedEntity" listDetail>
            <ng-template let-details appDatabaseItemDetails>
                <app-offering [details]="details"/>
            </ng-template>
        </app-item-card-switch>
    }
    <app-card>
        <h2 class="mb-4 font-semibold text-2xl text-black">
            My Coral Guide
        </h2>
        <div class="prose lg:prose-xl">
            <p class="text-black text-lg">
                Welcome! This is "My Coral Guide" - your personal space.
            </p>
            <p class="text-black text-lg">
                For now this startpage is quite empty. Sometime in the future this will be your dashboard. Until then,
                feel
                free
                to check the sub navigation to edit some checklist, add to-dos or change your settings.
            </p>
        </div>
    </app-card>
    <app-dashboard-filter class="my-5 block" [parentFormGroup]="filterFormGroup"/>
    @if (requests$ | async; ) {
        <div class="my-2">
            <h2 class="mt-6 mb-3 font-semibold text-2xl text-white">
                Fish
            </h2>

            <div class="icon-grid">
                @for (entry of fish(); track entry.entry.id + entry.context) {
                    <!--                    [class.selected-icon]="selectedEntity?entry.id === entry.entry.id"        -->
                    <div [class.checklist-checked]="entry.completed"
                         class="icon-grid-item checklist-item  flex flex-col">
                        <app-item-icon
                                (click)="showDetails(entry.entry.item)"
                                [itemName]="entry.entry.item.iconName"/>
                        <label class="text-white flex justify-center" for="entry-{{entry.entry.id}}-input">
                            <mat-checkbox class="flex" id="entry-{{entry.entry.id}}"
                                          [checked]="entry.completed"
                                          (change)="updateChecklist($event, entry.entry.item.id, entry.context); entry.completed = !entry.completed"
                                          name="entry-{{entry.entry.id}}"></mat-checkbox>
                        </label>
                    </div>
                } @empty {
                    <p class="col-span-full">No more fish to catch :)</p>
                }
            </div>
        </div>
    } @else {
        @defer (on immediate) {
            <mat-spinner class="mx-auto"/>
        }
    }
</app-list-detail-container>
