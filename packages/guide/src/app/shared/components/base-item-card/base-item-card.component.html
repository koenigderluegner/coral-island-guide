<app-card *ngIf="fetchedItem" class="text-lg font-semibold relative">
    <div class="card-actions h-8 absolute right-[75px] top-[15px]">
        <ng-container *ngIf="toDoCategory">
            <button (click)="removeFromToDo(toDoCategory, item)"
                    *ngIf="toDoService.alreadyInList(toDoCategory, item)" matTooltip="Remove from to-do">
                <app-ui-icon [uiIcon]="UiIcon.TO_DO_ON_LIST"
                             class="!text-green-600 !w-8 !h-8 hover:!text-green-800 focus-visible:!text-green-800"/>
            </button>
            <span *ngIf="!toDoService.alreadyInList(toDoCategory, item)"
                  [matTooltip]="addedToToDo.observed ? 'Add to to-do' :'To-do is not available for this entry'">
            <button (click)="addedToToDo.emit()" [disabled]="!addedToToDo.observed">
                <app-ui-icon [uiIcon]="UiIcon.TO_DO" class="!w-8 !h-8 hover:!text-black focus-visible:!text-black"/>
            </button>
        </span>
        </ng-container>
        <span *ngIf="!toDoCategory || !item" matTooltip="To-Do is not available for this entry">
            <button disabled>
                <app-ui-icon [uiIcon]="UiIcon.TO_DO" class="!w-8 !h-8"/>
            </button>
        </span>
    </div>

    <app-item-icon [amount]="amount" cardIcon itemName="{{fetchedItem.iconName}}"/>
    <div class="flex justify-between items-center">
        <div class="flex flex-col">
            <div class="text-black text-2xl">{{fetchedItem.displayName}}</div>
            <span *ngIf="!(fetchedItem | isTagBasedItem)"
                  class="text-accent text-2xl">   {{fetchedItem.displayKey | addSpacesToPascalCase}}</span>
        </div>
        <span *ngIf="!(fetchedItem | isTagBasedItem)" matTooltip="Open in database" matTooltipPosition="before">
            <a [routerLink]="[ '/database', fetchedItem.id]">
                  <app-ui-icon [uiIcon]="uiIcon.DATABASE" class="focus-visible:!text-black hover:!text-black "/>
            </a>
        </span>
    </div>
    <hr class="my-5"/>
    <span *ngIf="!(fetchedItem | isTagBasedItem)" class="text-lg mb-6">{{fetchedItem.description}}</span>

    <ng-content></ng-content>
    <app-item-list *ngIf="(fetchedItem | isTagBasedItem)" [itemList]="fetchedItem.items | toItemListEntries"
                   class="mt-6"></app-item-list>


    <ng-container *ngIf="!(fetchedItem | isTagBasedItem)">
        <app-quality-grid
                *ngIf="(fetchedItem | isItem) && (fetchedItem.qualities | keyvalue).length && !hideQualityGrid; else basePrice"
                [item]="fetchedItem"
                class="mt-6"
                includePrices/>
    </ng-container>

</app-card>

<ng-template #basePrice>
    <div class="flex">
        Sells for:
        <app-money *ngIf="fetchedItem && (fetchedItem | has: 'sellPrice')" [amount]="fetchedItem.sellPrice"
                   class="ml-2 text-black"></app-money>
    </div>

</ng-template>
