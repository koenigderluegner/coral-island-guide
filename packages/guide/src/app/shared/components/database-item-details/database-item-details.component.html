@if (databaseItem()) {
    <app-card class="text-lg font-semibold relative" *ngIf="databaseItem() as dbItem">
        <div class="card-actions h-8 absolute right-[75px] top-[15px]">
            <app-to-do-toggle [item]="dbItem.item" [context]="context" [amount]="amount" [quality]="quality"/>
        </div>

        <app-item-icon [amount]="amount" cardIcon itemName="{{dbItem.item.iconName}}"/>
        <div class="flex justify-between items-center">
            <div class="flex flex-col">
                <div class="text-black text-2xl">{{ dbItem.item.displayName }}</div>

                <span class="text-accent text-2xl">   {{ dbItem.item.displayKey | addSpacesToPascalCase }}</span>

            </div>

            <span matTooltip="Open in database" matTooltipPosition="before">
            <a [routerLink]="[ '/database', dbItem.item.id]">
                  <app-ui-icon [uiIcon]="uiIcon.DATABASE" class="focus-visible:!text-black hover:!text-black "/>
            </a>
        </span>

        </div>
        <hr class="my-5"/>
        <span class="text-lg mb-6">{{ dbItem.item.description }}</span>

        <ng-container *ngTemplateOutlet="databaseItemDetails; context: {$implicit: dbItem}"></ng-container>

        @if (((dbItem.item.qualities) | keyvalue).length && !hideQualityGrid) {
            <app-quality-grid
                    [item]="dbItem.item"
                    class="mt-6"
                    includePrices/>
        } @else {

            <div class="flex">
                Sells for:
                <app-money [amount]="dbItem.item.sellPrice" class="ml-2 text-black"/>
            </div>


        }

    </app-card>
}
