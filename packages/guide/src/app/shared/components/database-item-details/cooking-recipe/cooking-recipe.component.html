@let craftingUnlock = cookingRecipe().craftingUnlock;

@if (showUtensil()) {
    <div class="mb-3 inline-flex gap-2 items-center">Utensil(s):
        <span class="text-black">
            @for (utensil of cookingRecipe().utensils; track utensil) {
                <div class="whitespace-nowrap">
                    @if (cookingUtensilMapping[utensil.toLowerCase()]; as minimalItem) {
                        <a [routerLink]="['/crafting/cooking', utensil.toLowerCase()]"
                           class="flex gap-2 items-center">
                            <app-item-icon [itemName]="minimalItem.iconName" class="!w-7"/>
                            <span class="ml-1 whitespace-nowrap underline">{{ minimalItem.displayName }}</span>
                        </a>
                    }

                    @if (!cookingUtensilMapping[utensil.toLowerCase()]) {
                        {{ utensil | addSpacesToPascalCase | titlecase }}
                    }

                </div>
            }
        </span>
    </div>

}

@if (craftingUnlock) {
    <div class="mb-3">
        Unlocked: <span
            class="text-black">Level {{ craftingUnlock.masteryLevel }}
        in {{ craftingUnlock.masteryType }}</span>
    </div>
}

<app-item-list [itemList]="cookingRecipe() | cookingRecipeIngredients" class="mb-3"/>
@if (cookingRecipe().eitherOrIngredients.length) {

    <span class="text-black"> Either of the following</span>

    @for (ingredients of cookingRecipe().eitherOrIngredients; track ingredients; let last = $last) {

        <app-item-list [itemList]="ingredients" class="mb-3" />
        @if (!last) {
            <hr class="my-5"/>
        }

    }


}
@if (cookingRecipe().additionsToGenerics) {

    <span class="text-black"> The following counting as</span>

    @for (itemListItem of (cookingRecipe().additionsToGenerics | keyvalue); track itemListItem) {
        <div class="mb-3">
            @for (item of (itemListItem.value | castToMinimalItemArray); track item) {

                <div class="flex justify-between py-1">

                    @if (item) {
                        <div class="flex gap-x-3 items-center">
                            <app-item-icon class="w-10" [itemName]="item.iconName"/>
                            <span>{{ item.displayName }}</span>
                        </div>
                    }


                    <div class="flex items-center">as {{ itemListItem.key }}</div>

                </div>
                <hr>

            }
        </div>
    }


}
